import{r as o,j as s,L as u,a as y}from"./index-DCcqGZwj.js";import{L as b}from"./loading-CeBhY24j.js";import{G as N}from"./googleSignup-DKPfqeMg.js";import{e as L,a as v}from"./password-visibility-icon-reverse-7o_rWNZ4.js";const I=()=>{const[a,m]=o.useState(""),[n,p]=o.useState(""),[i,r]=o.useState(""),[l,h]=o.useState(!1),[g,x]=o.useState(!1),[f,c]=o.useState(!1),j=e=>{console.error("Google Sign-In failed:",e),r("Google Sign-In failed.")},w=async e=>{const d=localStorage.getItem("sessionId");console.log("ðŸšª Login form submitted with guestSessionId:",d),e.preventDefault(),c(!0);try{await y.post("/auth/login",{identifier:a,password:n,guestSessionId:d}),window.location.href="http://localhost:4001"}catch(t){console.error("Login error:",t),r("Error logging in: "+(t.response?t.response.data.message:t.message))}finally{c(!1)}},S=()=>{h(!l),x(!g)};return s.jsx("div",{className:"log-in-container",children:f?s.jsx(b,{}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"login-title",children:"Login"}),s.jsxs("form",{onSubmit:w,className:"login-form",children:[s.jsx("input",{type:"text",value:a,onChange:e=>m(e.target.value),placeholder:"Enter your username or email",required:!0,className:"login-input"}),s.jsxs("div",{className:"password-container",children:[s.jsx("input",{type:l?"text":"password",value:n,onChange:e=>p(e.target.value),placeholder:"Enter your password",required:!0,className:"login-input password-input"}),s.jsx("button",{type:"button",onClick:S,className:"toggle-password",children:s.jsx("img",{src:g?L:v,alt:"Toggle Password Visibility",className:"login-animation"})})]}),s.jsx("button",{type:"submit",className:"login-button",children:"Login"}),s.jsx(u,{to:"/forgotpassword",className:"forgot-password-link",children:"Forgot Password?"}),s.jsx(u,{to:"/sign-up",className:"sign-up-link",children:"Don't have an account? Click here to sign up"})]}),s.jsx("div",{style:{marginTop:"1rem",width:"100%"},children:s.jsx(N,{onFailure:j})}),i&&s.jsx("p",{className:"login-message",children:i})]})})},F=()=>s.jsx("div",{className:"login-body",children:s.jsx(I,{})});export{F as default};
