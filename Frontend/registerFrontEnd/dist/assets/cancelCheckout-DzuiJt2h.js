import{u,r as i,j as o,a as g}from"./index-oHHnHrMu.js";const f=()=>{const n=localStorage.getItem("sessionId"),l=u(),[t,a]=i.useState(!1),[c,s]=i.useState(null),d=async()=>{if(!n){console.warn("CancelPage: No session ID found in local storage."),s("No active session found. Please try again.");return}a(!0),s(null);try{const e=await g.post("/register-cart/cancel-checkout",{sessionId:n});console.log("CancelPage: Cancel checkout session successfully handled.",e.data),l("/")}catch(e){console.error("CancelPage: Error during API call to cancel checkout session:",e),e.response?(console.error("CancelPage: API error response:",e.response.data),s(e.response.data.message||"An error occurred. Please try again.")):s("Failed to process your request. Please try again.")}finally{a(!1)}};return o.jsx("div",{style:r.backdrop,children:o.jsxs("div",{style:r.modal,children:[o.jsx("h2",{style:r.heading,children:"Oh no, your checkout session expired!"}),o.jsx("p",{style:r.message,children:"Don't worry, your items are still in your cart. You can continue shopping or start the checkout process again."}),c&&o.jsx("p",{style:r.error,children:c}),o.jsx("button",{style:r.button,onClick:d,disabled:t,children:t?"Processing...":"Continue"})]})})},r={backdrop:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#ffffff",padding:"30px",borderRadius:"10px",maxWidth:"500px",width:"90%",textAlign:"center",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},heading:{fontSize:"1.8rem",marginBottom:"10px",color:"#333"},message:{fontSize:"1rem",marginBottom:"20px",color:"#555"},error:{color:"red",fontSize:"0.9rem",marginBottom:"15px"},button:{padding:"10px 20px",fontSize:"1rem",color:"#fff",backgroundColor:"#007bff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s"},buttonDisabled:{backgroundColor:"#ccc"}};export{f as default};
